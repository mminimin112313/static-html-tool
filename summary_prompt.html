<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#5e9ec5" />
  <title>Material Design Text Chunking</title>

  <!-- Material Components & Fonts -->
  <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" />
  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />

  <style>
    /* ───────────  Color Palette  ─────────── */
    :root{
      --clr-gradient-start:#5b8cff;
      --clr-gradient-end:#977dff;
      --clr-accent:#00c8b0;
      --clr-bg:#eff6f9;
      --clr-surface:#ffffff;
      --clr-on-surface:#1c1c1e;
      --clr-border:#dfe9f1;

      --radius-s:10px;
      --radius-m:18px;
      --shadow-s:0 2px 6px rgba(0,0,0,.05);
      --shadow-m:0 8px 20px rgba(0,0,0,.08);
      --transition:all .25s ease;
      --font-main:'Nanum Gothic',sans-serif;
    }

    html,body{height:100%;margin:0;font-family:var(--font-main);background:var(--clr-bg);color:var(--clr-on-surface);-webkit-font-smoothing:antialiased;}

    body::before{
      content:"";position:fixed;inset:0;z-index:-1;
      background:radial-gradient(circle at 90% 5%,rgba(151,125,255,.12),transparent 55%),
                 radial-gradient(circle at 10% 95%,rgba(91,140,255,.12),transparent 55%);
    }

    /* ───────────  Layout  ─────────── */
    .container{max-width:920px; margin:4vh auto; padding:0 16px; display:flex;flex-direction:column;gap:32px;}

    /* ───── Hero Banner ───── */
  .hero {
  background: linear-gradient(135deg, var(--clr-gradient-start) 0%, var(--clr-gradient-end) 100%);
  border-radius: var(--radius-m);
  padding: 56px 40px;
  box-shadow: var(--shadow-m);
  display: flex;
  flex-direction: column;
  gap: 14px;
  color: #fff;
}

.hero-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.hero h1 {
  margin: 0;
  font-size: 1.9rem;
  font-weight: 700;
  letter-spacing: -0.7px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

.reset-btn {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: var(--radius-s);
  padding: 8px;
  transition: var(--transition);
}
.reset-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
}
    /* ───── Panel ───── */
    .panel{background:var(--clr-surface);border-radius:var(--radius-m);box-shadow:var(--shadow-m);padding:32px;display:flex;flex-direction:column;gap:28px;}

    /* ───── Controls ───── */
    .controls-area{display:flex;flex-wrap:wrap;gap:20px;align-items:center;justify-content:center;}
    .chunk-size-controls{display:flex;align-items:center;gap:6px;background:var(--clr-bg);padding:8px 14px;border-radius:var(--radius-s);box-shadow:var(--shadow-s);}    
    .chunk-size-controls input{width:90px;height:46px;text-align:center;font-size:1rem;border:1px solid var(--clr-border);background:var(--clr-surface);border-radius:var(--radius-s);outline:none;transition:var(--transition);box-sizing:border-box;}
    .chunk-size-controls input:focus{border-color:var(--clr-gradient-start);box-shadow:0 0 0 3px rgba(91,140,255,.25);}    

    .mdc-button{transition:var(--transition);font-weight:700;border-radius:var(--radius-s);}  
    .btn-neutral{background:var(--clr-surface);color:var(--clr-on-surface);border:1px solid var(--clr-border);}  
    .btn-neutral:hover{box-shadow:var(--shadow-s);}  
    .btn-cta{background:linear-gradient(135deg,var(--clr-gradient-start) 0%,var(--clr-gradient-end) 100%);color:#fff;border:none;box-shadow:var(--shadow-s);}  
    .btn-cta:hover{filter:brightness(.96);}  

    /* ───── Textarea ───── */
    .textarea-custom{display:block;width:100%;min-height:220px;padding:18px 20px;font-size:1rem;border:1.5px solid var(--clr-border);border-radius:var(--radius-s);resize:vertical;background:var(--clr-surface);transition:var(--transition);box-sizing:border-box;}  
    .textarea-custom:focus{border-color:var(--clr-gradient-start);box-shadow:0 0 0 4px rgba(91,140,255,.18);}    

    /* ───── Output Chunks ───── */
    .output-area{display:flex;flex-direction:column;gap:18px;}
    .chunk{background:var(--clr-surface);border-radius:var(--radius-s);box-shadow:var(--shadow-s);display:flex;align-items:center;gap:14px;padding:16px 20px;opacity:0;transform:translateY(12px);animation:fadeUp .4s forwards;transition:var(--transition);}    
    .chunk:hover{transform:translateY(-2px);box-shadow:0 6px 14px rgba(0,0,0,.07);} /* subtle lift */
    .chunk-number{width:28px;min-width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;color:var(--clr-gradient-start);font-weight:700;border:2px solid var(--clr-gradient-start);font-size:.8rem;}
    .chunk-textarea{flex:1;display:none;white-space:pre-wrap;font-size:.9rem;}
    .mdc-button.copy-btn{margin-left:auto;background:var(--clr-accent);color:#fff;border:none;}
    .copy-btn.copied{opacity:.55;cursor:default;}

    @keyframes fadeUp{to{opacity:1;transform:none;}}

    /* ───── Toast ───── */
    .toast{visibility:hidden;min-width:240px;max-width:80vw;background:#1c1c1e;color:#fff;text-align:center;border-radius:var(--radius-s);padding:16px 20px;position:fixed;bottom:26px;left:50%;transform:translateX(-50%);z-index:10000;opacity:0;transition:opacity .35s,visibility .35s;}    
    .toast.show{visibility:visible;opacity:1;}

    /* ───── Modal ───── */
    .chunk-modal{visibility:hidden;opacity:0;pointer-events:none;position:fixed;inset:0;z-index:11000;display:flex;align-items:center;justify-content:center;transition:opacity .3s ease;}
    .chunk-modal.show{visibility:visible;opacity:1;pointer-events:auto;}
    .chunk-modal .overlay{position:absolute;inset:0;background:rgba(0,0,0,.55);}    
    .chunk-modal .content{position:relative;background:var(--clr-surface);padding:30px;max-width:92vw;max-height:82vh;border-radius:var(--radius-m);box-shadow:var(--shadow-m);overflow:auto;display:flex;flex-direction:column;gap:24px;}
    .chunk-modal pre{margin:0;white-space:pre-wrap;font-size:.95rem;font-family:var(--font-main);}    

    @media(max-width:640px){
      .hero{padding:42px 24px;gap:10px;}
      .hero h1{font-size:1.6rem;}
      .panel{padding:24px;}
      .chunk{flex-direction:column;align-items:flex-start;}
      .chunk-number{margin-bottom:6px;}
    }
  </style>
</head>
<body>
<div class="container">
      <!-- ⭐ Hero Banner -------------------------------------------------- -->
<section class="hero">
  <div class="hero-header">
    <h1>요약 프롬프트</h1>
    <button class="mdc-icon-button reset-btn" onclick="resetAll()" aria-label="Reset">
      <i class="material-icons mdc-icon-button__icon">restart_alt</i>
    </button>
  </div>
</section>
      <!-- ⭐ Control & Editor Panel --------------------------------------- -->
      <section class="panel">
        <!-- 청크 사이즈 컨트롤 -->
        <div class="controls-area">
          <div class="chunk-size-controls">
            <button class="mdc-button btn-neutral" onclick="adjustChunkSize(-500)">
              <span class="mdc-button__label">-500</span>
            </button>

            <input
              type="number"
              id="chunkSize"
              value="2000"
              onchange="updateChunkSize(this.value)"
              aria-label="Chunk size"
            />

            <button class="mdc-button btn-neutral" onclick="adjustChunkSize(500)">
              <span class="mdc-button__label">+500</span>
            </button>
          </div>
        </div>

        <!-- 텍스트 입력 영역 -->
        <textarea
          id="inputText"
          class="textarea-custom"
          placeholder="여기에 텍스트를 입력하세요..."
        ></textarea>

        <!-- 실행 CTA -->
        <button class="mdc-button btn-cta" style="width: 100%" onclick="processText()">
          <i class="material-icons mdc-button__icon" aria-hidden="true">format_align_left</i>
          <span class="mdc-button__label">텍스트 분할하기</span>
        </button>

        <!-- 결과 출력 영역 -->
        <div id="outputArea" class="output-area"></div>
      </section>
    </div>

    <!-- ⭐ Toast ---------------------------------------------------------- -->
    <div id="toast" class="toast" role="status" aria-live="polite">알림 메시지</div>

    <!-- ⭐ Chunk Preview Modal ------------------------------------------- -->
    <div id="chunkModal" class="chunk-modal" aria-modal="true" role="dialog">
      <div class="overlay" onclick="closeModal()"></div>
      <div class="content">
        <pre id="modalText"></pre>
        <button class="mdc-button btn-neutral" onclick="closeModal()">
          <span class="mdc-button__label">닫기</span>
        </button>
      </div>
    </div>

  <!-- 기능 스크립트 -->
  <script>
    /* ───── 설정 ───── */
    let chunkSize = 20000;
    const LS_KEY = 'textChunkState';

    const defaultText = `
당신은 IQ 273의 초고지능자 협회의 회원입니다.
당신에게는 자료를 보고 시인성이 뛰어나고, 피로도가 낮으면서 가독성이 좋은 암기에 최적화된 로스쿨 암기장을 만드는 업무가 배당되었습니다. 로스쿨 암기장은 원본 자료를 읽지 않고도 원본 자료와 관련된 모든 사례문제를 풀 수 있을 정도로 높은 완성도를 가져야만 합니다. 그런 와중에도 불필요한 문구는 없고 압축적이면서 컴팩트하여 읽는 사람으로 하여금 피로감이 들지 않도록 해야 합니다.

모든 암기장의 구성요소는 서로 유기적으로 연결되어서 각각 끊어진 느낌이 들지 않아야 하고, 몇번을 다시 읽어도 감탄이 나오며, 고득점을 할 수 있으면서, 최소분량의 텍스트만으로 생성해야 합니다. 위 엄격한 제약조건은 당신의 사명으로 반드시 지켜주시기 바랍니다.

# 형식 조건
제목은 반드시 ★제목 형식으로 작성할 것.

각 절은 반드시 ▶소제목 형식으로 작성할 것.

목차에는 숫자를 붙이지 말것

1. 전체 구성 포맷
대제목 : ★제목 형식
✏️ 제목은 별(★) + 숫자. 뒤에는 공백을 두고 명확한 제목 표시.

절 제목 : ▶소제목 형식
✏️ ▶ 기호 사용 + 숫자 표기 + 소제목. 줄 띄우지 않고 바로 본문 항목 나열.

본문 항목 : -로 시작. (줄바꿈 후 단락별 나열) 내용이 복잡하거나 구분이 필요한 경우, 한 문단 내에서도 ①, ②, ③처럼 동그라미 숫자를 사용해 독자가 쉽게 이해할 수 있도록 하세요

항목 내 서술 방식 : · 먼저 핵심 키워드(ex. "1인 회사 의의", "주주총회 운영 및 의결권 행사 하자")를 굵게 표시하지 않고 그냥 문장 시작부에 노출
· 키워드 다음엔 :를 붙인 뒤 바로 설명 연결.
· 슬래시(/), 화살표(→), **괄호(())**를 이용해 빠른 대비·설명 병렬 처리. · "/"는 병렬 나열, "→"는 결과나 효과, "(판례)" 등 근거 표시.

판례 : 판례를 참조한 경우 판례번호가 자료에 쓰여있다면 (2007두261)과 같은 형식으로 병기합니다.

플레인 텍스트로 기호만 사용하며, 리스트 형태는 사용하지 않을 것. 워드에 그대로 아무 처리 없이 붙여넣어도 뛰어난 시인성을 유지할 수 있도록 할 것.

2. 문장 스타일
매우 압축적이고, 끊어읽기 좋게 짧은 구문으로 구성. 다만 논리적이며 모든 정리가 유기적으로 연결되면서 하나의 체계를 형성해야 함.

"=" 또는 "/", "→" 등을 이용해 세부 요소를 병렬적으로 나열함으로써 암기 편의성 강화.

필수 키워드는 생략 없이 모두 등장.

판례, 통설, 다수설 같은 권위 근거는 반드시 (판례)처럼 간단히 괄호 안에 처리.
판례 : 판례를 참조한 경우 판례번호가 자료에 쓰여있다면 (2007두261)과 같은 형식으로 병기합니다.

3. 논리적 흐름
개념 정의 → 요건·구조 설명 → 예외·특수상황 설명 → 판례 정리 순서로 흘러감.

항목별로 "기본 내용 → 변형/예외사항"을 일관성 있게 따라감.

**입장대립(다수설/소수설)**이 있으면 짧고 명료하게 병렬로 제시.

4. 구체적 표현기법
형식 구문

- (항목명)
(간략 설명  /  병렬 설명  /  결과 설명 → 효과  /  판례/통설 기재)
병렬 구분 : 슬래시  /  
예시 : "주주명부상 주주가 1인인 회사(협의의 1인 회사)  /  실질적으로 1인 소유인 회사(광의의 1인 회사)"

인과·귀속 결과 : 화살표 →
예시 : "1인 100% 지분 소유자가 출석한 경우 → 적법 주주총회 성립"

법적 근거 표기 : 괄호 (판례), (다수설) 등 짧게 명시.

문장 종결 : 마침표 .를 거의 쓰지 않음.
✏️ 연결되거나 연속되는 개념임을 강조하기 위해 쉼표 없이 이어감.



5. 분량
분량은 적절하게 굳이 늘려 쓰지 않고, 굳이 더 줄여 쓰지 않는다.


# 서술 기준
논리적 구조에 따라 정리하고, 학습 최적화 순서로 배열할 것.

법리, 효과, 판단기준은 명확히 구분하여 서술할 것.

핵심 키워드는 절대 생략 없이, 자료에 등장하는 표현을 그대로 명시할 것. (예시: "외형상", "실질적으로", "개인기업에 불과" 등)

자료에 등장한 경우에만 판례 및 조문을 작성할 것. (※ 명시된 조문만 [조문번호]로 표기)

새로운 조문 추가, 임의의 문구 가공, 확장 금지.

아래 예시와 같이 화살표, /, : 등의 기호를 잘 사용할 것.

목차에 숫자 사용하지 않기.

# 암기력 강화 목적 보완
필요한 경우:

입장 대립 정리 (ex. 다수설 vs 소수설)

효과 비교표 (ex. 치유 여부/불가 여부)

판례 흐름 요약 (ex. 판례 A → 판례 B 순서로)

개념 간 구조적 연결을 명확히 하여 암기력을 높일 것.

내용은 압축적으로 정리하되, 필수 요소 누락 없이 작성할 것.

# 샘플

위 지시사항을 지켜 만든 바람직한 예시는 다음과 같다. 다음 예시와 같은 정도의 서술방식과 형식을 가지고 정리하라. 

"""
★1인 회사의 법률관계

▶ 주주총회 관련 하자의 치유

**1인 회사 의의** : 주주명부상 주주가 1인인 회사(협의의 1인 회사) / 실질적으로 1인 소유인 회사(광의의 1인 회사) / 주식회사·유한회사·유한책임회사에서 설립·존속 인정

**주주총회의 운영 및 의결권행사 하자** : 1인 회사는 제3자 이익 해하지 않는 한 소집·결의 규제 완화 가능(통설)

**주주총회 하자의 치유** : 주주가 출석한 경우 → 소집권한 없는 자 소집/이사회결의 하자 치유 / 실제 총회 미개최하였더라도 1인 주주 의결 + 의사록 작성 → 결의 인정(판례)

**영업양도 특별결의 대체** : 1인 주주이자 대표이사의 동의로 상법상 주주총회 특별결의 대체 가능(판례)

**광의의 1인 회사 적용** : 주주는 수인이더라도 사실상 1인 지배 → 동일 적용(판례)

**소집통지 없는 경우** : 주주 전원 출석 → 적법 총회 인정 / 1인 100% 지분 경우만 인정(판례)

**발행주식 98% 소유 경우** : 잔여 2% 무관 자 소유 → 1인 회사 아님 → 주주총회 의결 없었음에도 의사록 작성 → 결의부존재(판례)

▶ 이사회 관련 하자의 치유

**이사회 결의 하자의 치유** : 불법 결의라도 1인 주주의 의사에 부합 시 하자 치유(판례)

▶ 1인 주주인 이사의 의무위반

**자기거래 승인 필요성** : 회사 재산은 채권자 담보 → 1인 주주라도 이해관계 불일치 전제 → 이사회 승인 요함(다수설)

**판례 태도** : 주주 전원 동의/1인 회사 경우 이사회 승인 불요 / 자기거래로 회사에 손해 → 손해배상책임 부담(판례)

**1인 회사의 형사책임** : 1인 주주인 이사의 횡령죄·배임죄 인정 / 회사 재산을 임의로 담보 제공 시 배임죄 인정 / 주주 양해 있어도 손해나 배임 범의 부정 불가(83도2330 판결 등 다수)

★ 회사의 권리능력 제한 : 정관 목적 외의 행위

▶ 회사의 권리능력 판단

**기본 법리** : 민법상 법인은 정관 목적 범위 내 권리능력(민법 34조) / 영리법인인 회사에도 적용 문제

**통설 입장** : 권리능력 제한 부정(제한부정설)

**판례 입장** : 권리능력 제한 긍정(제한긍정설)
· 직접·간접으로 필요한 행위 포함 / 행위자의 주관적 의사 아닌 행위의 객관적 성질 기준 판단 → 사실상 제한 부정

"""

이제 다음 자료로 위 내용을 지켜서 암기장을 만들어.

자료 :


`;
    const chunktwo    = ` `;

    /* ───── 상태 저장/복원 (localStorage) ───── */
    function saveState(){
      const copied=[...document.querySelectorAll('.copy-btn')]
        .map((b,i)=>b.classList.contains('copied')?i:null).filter(x=>x!==null);
      const state={
        chunkSize,
        inputText:document.getElementById('inputText').value,
        outputHTML:document.getElementById('outputArea').innerHTML,
        copied
      };
      localStorage.setItem(LS_KEY, JSON.stringify(state));
    }
    function loadState(){
      const raw=localStorage.getItem(LS_KEY); if(!raw) return;
      try{
        const {chunkSize:cs,inputText,outputHTML,copied=[]}=JSON.parse(raw);
        if(cs){chunkSize=cs;document.getElementById('chunkSize').value=cs;}
        if(inputText) document.getElementById('inputText').value=inputText;
        if(outputHTML) document.getElementById('outputArea').innerHTML=outputHTML;
        if(window.mdc&&mdc.autoInit) mdc.autoInit();
        [...document.querySelectorAll('.copy-btn')].forEach((b,i)=>{
          if(copied.includes(i)) b.classList.add('copied');
        });
      }catch(e){console.warn('localStorage 파싱 실패',e);localStorage.removeItem(LS_KEY);}  
    }

    /* ───── UI 동작 ───── */
    function adjustChunkSize(a){
      chunkSize=Math.max(500,chunkSize+a);
      document.getElementById('chunkSize').value=chunkSize;
      saveState();
    }
    function updateChunkSize(v){
      chunkSize=Math.max(500,parseInt(v));
      saveState();
    }
    function resetAll(){
      if(!confirm('모든 내용을 초기화하시겠습니까?')) return;
      document.getElementById('inputText').value='';
      document.getElementById('outputArea').innerHTML='';
      localStorage.removeItem(LS_KEY);
    }

    /* --- NEW : 모달 제어 --- */
    function openModal(text){
      document.getElementById('modalText').textContent=text.trim();
      document.getElementById('chunkModal').classList.add('show');
    }
    function closeModal(){
      document.getElementById('chunkModal').classList.remove('show');
    }

    /* --- NEW : 롱프레스 감지 --- */
    let pressTimer=null;
    function startLongPress(e){
      if(e.target.closest('.copy-btn')) return; // 복사 버튼 제외
      const idx=this.dataset.index;
      pressTimer=setTimeout(()=>openModal(window.chunkData[idx]),500);
    }
    function cancelLongPress(){
      clearTimeout(pressTimer);
    }

    function processText(){
      const input=document.getElementById('inputText').value.trim();
      const out=document.getElementById('outputArea');
      out.innerHTML='';
      if(!input){out.innerHTML='<p>텍스트를 입력해주세요.</p>';return;}

      let cur=''; const chunks=[];
      input.split('\n').forEach(p=>{
        cur+=p+'\n';
        if(cur.length>=chunkSize){chunks.push(cur);cur='';}
      });
      if(cur) chunks.push(cur);

      /* --- NEW : 전역 접근용 --- */
      window.chunkData = chunks;

      chunks.forEach((c,i)=>{
        const d=document.createElement('div');
        d.className='chunk';
        d.setAttribute('data-index',i);                         /* NEW */
        d.innerHTML=`
          <div class="chunk-number">${i+1}</div>
          <textarea class="chunk-textarea" readonly>${defaultText+c+chunktwo}</textarea>
          <button class="mdc-button mdc-button--raised copy-btn" onclick="copyToClipboard(this,${i})">
            <span class="mdc-button__label">복사</span>
          </button>`;

        /* --- NEW : 롱프레스 이벤트 바인딩 --- */
        d.addEventListener('mousedown',startLongPress);
        d.addEventListener('touchstart',startLongPress,{passive:true});
        d.addEventListener('mouseup',cancelLongPress);
        d.addEventListener('mouseleave',cancelLongPress);
        d.addEventListener('touchend',cancelLongPress);

        out.appendChild(d);
      });
      if(window.mdc&&mdc.autoInit) mdc.autoInit();
      saveState();
    }

    function copyToClipboard(btn,idx){
      const txt=btn.previousElementSibling.value;
      navigator.clipboard.writeText(txt).then(()=>{
        showToast('클립보드에 복사되었습니다!');
        btn.classList.add('copied'); saveState();
      }).catch(()=>fallbackCopy(txt,btn));
    }
    function fallbackCopy(text,btn){
      const ta=document.createElement('textarea');
      ta.value=text; ta.style.position='fixed'; ta.style.left='-9999px';
      document.body.appendChild(ta); ta.select();
      if(document.execCommand('copy')){
        btn.classList.add('copied'); showToast('클립보드에 복사되었습니다!(fallback)'); saveState();
      }else showToast('복사에 실패했습니다.');
      document.body.removeChild(ta);
    }
    function showToast(msg){
      const t=document.getElementById('toast');
      t.textContent=msg; t.classList.add('show');
      setTimeout(()=>t.classList.remove('show'),2800);
    }

    /* ───── 초기화 ───── */
    document.addEventListener('DOMContentLoaded',()=>{
      if(window.mdc&&mdc.autoInit) mdc.autoInit();
      loadState();
    });
  </script>
</body>
</html>
