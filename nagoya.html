<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’– Our Ultimate Nagoya Diary ğŸ’–</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Patrick+Hand&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #FFF9F2;
            --text-main: #4A4A4A;
            --text-cute: #d63384;
            --day1-color: #FBCFE8; --day1-accent: #F472B6;
            --day2-color: #BFDBFE; --day2-accent: #60A5FA;
            --day3-color: #A7F3D0; --day3-accent: #34D399;
            --day4-color: #FDE68A; --day4-accent: #FBBF24;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-color); color: var(--text-main); overflow: hidden; }
        .font-handwriting { font-family: 'Patrick Hand', cursive; }
        .font-korean-cute { font-family: 'Gaegu', cursive; font-weight: 700; }
        
        /* --- Envelope Animation Styles --- */
        #envelope-wrapper { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center; background-color: #fce7f3; z-index: 100; cursor: pointer; transition: opacity 0.5s ease-out; }
        .envelope { position: relative; width: 300px; height: 200px; background-color: #fff; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border-radius: 10px; }
        .envelope-flap { position: absolute; top: 0; left: 0; width: 100%; height: 100px; background-color: var(--day1-accent); clip-path: polygon(0 0, 100% 0, 50% 100%); border-top-left-radius: 10px; border-top-right-radius: 10px; transition: transform 0.5s ease-in-out; transform-origin: top; }
        #envelope-wrapper.opened .envelope-flap { transform: rotateX(180deg); }
        #envelope-wrapper.opened { opacity: 0; pointer-events: none; }
        .diary-container { max-w-5xl mx-auto bg-white p-4 sm:p-6 md:p-8 shadow-xl; opacity: 0; transform: translateY(20px); transition: opacity 0.5s ease-in 0.3s, transform 0.5s ease-in 0.3s; }
        body.unlocked { overflow: auto; }
        body.unlocked .diary-container { opacity: 1; transform: translateY(0); }

        /* --- Diary & Map Styles --- */
        .main-headline { font-size: 3rem; sm:font-size: 4rem; md:font-size: 5rem; line-height: 1; text-align: center; color: var(--text-cute); margin-bottom: 0.5rem; }
        .sub-headline { font-size: 1.25rem; color: #a1a1aa; margin-bottom: 2rem; }
        .diary-entry { border-top: 2px dashed #e5e5e5; padding-top: 2rem; margin-top: 2rem; }
        .entry-title { font-size: 2.5rem; md:font-size: 3rem; margin-bottom: 1.5rem; }
        .timeline-item { display: flex; gap: 1rem; margin-bottom: 2rem; }
        .timeline-time { flex-shrink: 0; width: 4.5rem; font-size: 1.5rem; text-align: right; }
        .timeline-content { border-left: 3px dotted #d4d4d8; padding-left: 1.5rem; width: 100%; }
        .timeline-title { font-size: 1.5rem; }
        .shopping-detail { background: #fdf2f8; border-left: 4px solid var(--day1-accent); padding: 0.75rem; margin-top: 0.5rem; border-radius: 0.5rem; }
        .polaroid-container { background: #fff; padding: 1rem; padding-bottom: 4rem; box-shadow: 0 5px 15px rgba(0,0,0,0.1); position: relative; margin-top: 2rem; }
        .map-container { height: 350px; border: 1px solid #eee; }
        .polaroid-caption { position: absolute; bottom: 1rem; left: 1rem; font-family: 'Patrick Hand', cursive; font-size: 1.5rem; }
        .meal-options { background-color: #f9fafb; border-radius: 0.75rem; padding: 1rem; margin-top: 1rem; }
        .meal-option strong { font-size: 1.1rem; }
        .location-link { text-decoration: underline; text-decoration-color: var(--text-cute); text-decoration-thickness: 2px; text-underline-offset: 3px; }
    </style>
</head>
<body>
    
    <div id="envelope-wrapper">
        <div class="envelope">
            <div class="envelope-flap"></div>
            <div class="envelope-body"></div>
            <div class="envelope-seal">ğŸ’–</div>
        </div>
        <p class="font-korean-cute absolute bottom-10 text-xl text-gray-500">Click to Open Our Trip Diary!</p>
    </div>

    <div id="diary-container" class="diary-container hidden">
        <header>
            <h1 class="font-handwriting main-headline">Our Nagoya Diary</h1>
            <p class="font-korean-cute sub-headline">July 3rd - 6th ğŸ’– The Cutest Trip Ever!</p>
        </header>

        <main>
            <!-- Day 1 -->
            <article class="diary-entry">
                <h2 class="entry-title" style="color: var(--day1-accent);">Day 1 (Thu): Hello, Nagoya! ğŸ’–</h2>
                <div class="timeline">
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day1-accent);">2 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">âœˆï¸ í˜¸í…” ì§í–‰</h3><p>ì£¼ë¶€ ê³µí•­ â†’ 'ë®¤ìŠ¤ì¹´ì´' íŠ¹ê¸‰(28ë¶„) â†’ ë‚˜ê³ ì•¼ì—­ ë„ì°©! 'ë¯¸ì“°ì´ ê°€ë“  í˜¸í…”'ì— ì²´í¬ì¸!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day1-accent);">3 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ›ï¸ ë‚˜ê³ ì•¼ì—­ ì‡¼í•‘ ìƒì„¸ ê°€ì´ë“œ</h3>
                        <div class="shopping-detail"><p><strong>JR ë‹¤ì¹´ì‹œë§ˆì•¼:</strong> ëª…í’ˆ, í™”ì¥í’ˆ, ì˜ë¥˜ê°€ ëª¨ì¸ ì •í†µ ë°±í™”ì . ì§€í•˜ ì‹í’ˆê´€ 'ë°íŒŒì¹˜ì¹´'ëŠ” ê³ ê¸‰ ê³¼ìì™€ ì„ ë¬¼ ì‚¬ê¸°ì— ìµœê³ !</p></div>
                        <div class="shopping-detail"><p><strong>ë„í í•¸ì¦ˆ:</strong> ì°½ì˜ë ¥ì˜ ì²œêµ­! ì•„ê¸°ìê¸°í•œ ë¬¸êµ¬ë¥˜, ìµœì‹  ë·°í‹°í…œ, ë…íŠ¹í•œ ìƒí™œ ì¡í™”ê¹Œì§€ ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¥´ëŠ” ê³³.</p></div>
                    </div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day1-accent);">6:30 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸœ ì €ë… ì‹ì‚¬ @ë‚˜ê³ ì•¼ì—­</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">ë¯¸ì†Œì¹´ì¸ :</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Yabaton+Nagoya+Station+ESCA" target="_blank" class="location-link">ì•¼ë°”í†¤ (ESCA)</a>. ë‚˜ê³ ì•¼ ë©”ì‹œì˜ ëŒ€í‘œì£¼ì!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">í‚¤ì‹œë©˜:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Yoshida+Kishimen+ESCA" target="_blank" class="location-link">ìš”ì‹œë‹¤ í‚¤ì‹œë©˜ (ESCA)</a>. ë„“ì í•˜ê³  ë¶€ë“œëŸ¬ìš´ ë©´ë°œ!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">í…ë¬´ìŠ¤:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Tenmusu+Senju+Takashimaya+Nagoya" target="_blank" class="location-link">ì„¼ì¥¬ (ë‹¤ì¹´ì‹œë§ˆì•¼ B1)</a>. ìƒˆìš°íŠ€ê¹€ ì£¼ë¨¹ë°¥!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">ì•ˆì¹´ì¼€ ìŠ¤íŒŒê²Œí‹°:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Spaghetti+House+Yokoi+JP+Tower+Nagoya" target="_blank" class="location-link">ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ìš”ì½”ì´ (JPíƒ€ì›Œ)</a>. ê±¸ì­‰í•œ ì†ŒìŠ¤ê°€ íŠ¹ì§•!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">ë¯¸ì†Œë‹ˆì½”ë¯¸ ìš°ë™:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Yamamotoya+Sohonke+ESCA" target="_blank" class="location-link">ì•¼ë§ˆëª¨í† ì•¼ ì†Œí˜¼ì¼€ (ESCA)</a>. ì§„í•œ ëœì¥ êµ­ë¬¼ ìš°ë™!</p></div></div>
                    </div></div></div>
                </div>
                <div class="polaroid-container" style="transform: rotate(2deg);"><div id="map-day1" class="map-container"></div><p class="polaroid-caption">Day 1: Our First Steps!</p></div>
            </article>

            <!-- Day 2 -->
             <article class="diary-entry">
                <h2 class="entry-title" style="color: var(--day2-accent);">Day 2 (Fri): Sakae Food & Fun! ğŸ‘‘</h2>
                <div class="timeline">
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">11 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ“ ì›¨ì´íŒ… ì‘ì „!</h3><p>ë‚˜ê³ ì•¼ì—­ â†’ ì‚¬ì¹´ì—ì—­ (ì§€í•˜ì²  5ë¶„). <a href="https://www.google.com/maps/search/?api=1&query=Hitsumabushi+Hanaoka+Sakae" target="_blank" class="location-link">íˆì¸ ë§ˆë¶€ì‹œ í•˜ë‚˜ì˜¤ì¹´</a>ì— ê°€ì„œ ì›¨ì´íŒ… ë¦¬ìŠ¤íŠ¸ë¶€í„° ì ê¸°!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">1 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ– ì ì‹¬ ì‹ì‚¬ @ì‚¬ì¹´ì—</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">ë¯¸ì†Œì¹´ì¸ :</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Yabaton+Sakae+Honten" target="_blank" class="location-link">ì•¼ë°”í†¤ ë³¸ì </a>. Vlog ì„±ì§€! ì¹˜ì¦ˆ&íŒŒ ì¶”ê°€ í•„ìˆ˜!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">ì•ˆì¹´ì¼€ ìŠ¤íŒŒê²Œí‹°:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Spaghetti+House+Sole+Sakae" target="_blank" class="location-link">ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ì†Œë ˆ</a>. í˜„ì§€ì¸ ì¶”ì²œ ë§›ì§‘!</p></div></div>
                    </div></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">3 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ° ë””ì €íŠ¸ & ì¬ì¶©ì „ íƒ€ì„!</h3><p>'ë°íŒŒì¹˜ì¹´' êµ¬ê²½ í›„, ì¼€ì´í¬ ë§›ì§‘ì—ì„œ íœ´ì‹.</p><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">í¬ë ˆì´í”„ ì¼€ì´í¬:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=HARBS+Sakae" target="_blank" class="location-link">í•˜ë¸ŒìŠ¤ (HARBS) ë³¸ì </a>. ë§ì´ í•„ìš” ì—†ëŠ” ê³³!</p></div></div>
                    </div></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">6 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸš ì €ë…: ê°ë™ì˜ íˆì¸ ë§ˆë¶€ì‹œ</h3><p>ë“œë””ì–´ ìš°ë¦¬ ì°¨ë¡€! 'í•˜ë‚˜ì˜¤ì¹´'ì—ì„œ ì¸ìƒ ì¥ì–´ë®ë°¥ ë¨¹ê¸°. ğŸ˜­</p></div></div>
                </div>
                <div class="polaroid-container" style="transform: rotate(-2deg);"><div id="map-day2" class="map-container"></div><p class="polaroid-caption">Day 2: Sakae Adventure!</p></div>
            </article>

            <!-- Day 3 -->
            <article class="diary-entry">
                 <h2 class="entry-title" style="color: var(--day3-accent);">Day 3 (Sat): Osu's Cutest Finds! ğŸŒ¸</h2>
                 <div class="timeline">
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day3-accent);">11 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸš‡ ì˜¤ìŠ¤ ìƒì ê°€ë¡œ!</h3><p>ë‚˜ê³ ì•¼ì—­ â†’ í›„ì‹œë¯¸ì—­(í™˜ìŠ¹) â†’ ì˜¤ìŠ¤ì¹¸ë…¼ì—­ (ì´ 15ë¶„). 'ë„ë‹ˆì¹˜ì—ì½”í‚·í‘¸(620ì—”)' ê°•ì¶”!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day3-accent);">11:30 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ’ ì˜¤ìŠ¤ ìƒì ê°€ ë³´ë¬¼ì°¾ê¸° & ê¸¸ê±°ë¦¬ ìŒì‹</h3><p>'ìˆ˜ìš”ì¼ì˜ ì•¨ë¦¬ìŠ¤' ê°™ì€ ì†Œí’ˆìƒµê³¼ í•¨ê»˜ ë‹¤ì–‘í•œ ê¸¸ê±°ë¦¬ ìŒì‹ ë§›ë³´ê¸°!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day3-accent);">2 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ¥ ë¹µì§‘ & ì¹´í˜ íˆ¬ì–´ @ì˜¤ìŠ¤</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ìµœê³  ë¹µì§‘:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Le+Supreme+Nagoya" target="_blank" class="location-link">Le Supreme</a>. ë¹µ ì‚¬ì„œ ê·¼ì²˜ ì¹´í˜ì—ì„œ ì¦ê¸°ê¸°!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ê°ì„± ì¹´í˜:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=KANNON+COFFEE+Osu" target="_blank" class="location-link">KANNON COFFEE</a>. ê·€ì—¬ìš´ ì¿ í‚¤ ì»¤í”¼!</p></div></div>
                    </div></div></div>
                     <div class="timeline-item"><div class="timeline-time" style="color: var(--day3-accent);">7 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ» ì €ë…: ë‚˜ê³ ì•¼ì˜ ë°¤ @ì‚¬ì¹´ì—</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ğŸ‘‘ MUST GO!</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Tokyo+Menchintei+Honpo+Nishiki+Nagoya" target="_blank" class="location-link">ë„ì¿„ë©˜ì¹œí…Œì´ í˜¼í¬</a>. ê¼­ ê°€ê³  ì‹¶ì—ˆë˜ ì•„ë¶€ë¼ì†Œë°”!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">í…Œë°”ì‚¬í‚¤:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Furaibo+Sakae" target="_blank" class="location-link">í›„ë¼ì´ë³´</a> ë˜ëŠ” <a href="https://www.google.com/maps/search/?api=1&query=Sekai+no+Yamachan+Sakae" target="_blank" class="location-link">ì•¼ë§ˆì§±</a>. ë‘ ì›ì¡° ë§› ë¹„êµ!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ëŒ€ë§Œ ë¼ë©˜:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Misen+Yaba" target="_blank" class="location-link">ë¯¸ì„¼ ì•¼ë°”ì </a>. ë‚˜ê³ ì•¼ ë°œìƒ ë§¤ìš´ ë¼ë©˜!</p></div></div>
                    </div></div></div>
                </div>
                 <div class="polaroid-container" style="transform: rotate(1deg);"><div id="map-day3" class="map-container"></div><p class="polaroid-caption">Day 3: Osu & Night Out!</p></div>
            </article>

            <!-- Day 4 -->
            <article class="diary-entry">
                <h2 class="entry-title" style="color: var(--day4-accent);">Day 4 (Sun): Last Haul & Fly Home! ğŸ‘‹</h2>
                <div class="timeline">
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day4-accent);">11 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ ë§ˆì§€ë§‰ ì‡¼í•‘ @ë‚˜ê³ ì•¼ì—­</h3><p>'ë©”ì´í…Œì¸  ë°±í™”ì ' ë‹¤ì´ì†Œ & 'ë‹¤ì¹´ì‹œë§ˆì•¼ ë°±í™”ì ' ì§€í•˜ì—ì„œ ìµœì¢… ì‡¼í•‘!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day4-accent);">1 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">âœˆï¸ ê³µí•­ìœ¼ë¡œ</h3><p>í˜¸í…”ì—ì„œ ì§ ì°¾ì•„ì„œ ë°”ë¡œ 'ë®¤ìŠ¤ì¹´ì´' íƒ€ê³  ì£¼ë¶€ êµ­ì œê³µí•­ìœ¼ë¡œ!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day4-accent);">2 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ— ê³µí•­ì—ì„œ ìµœì¢… ì‹ì‚¬</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day4-accent);">íˆì¸ ë§ˆë¶€ì‹œ:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Maruya+Honten+Chubu+Airport" target="_blank" class="location-link">ë§ˆë£¨ì•¼ í˜¼í…</a>. ë§ˆì§€ë§‰ ì¥ì–´ë®ë°¥!</p></div></div>
                        <div class="meal-option"><div><strong style="color: var(--day4-accent);">í…Œë°”ì‚¬í‚¤:</strong><p><a href="https://www.google.com/maps/search/?api=1&query=Sekai+no+Yamachan+Chubu+Airport" target="_blank" class="location-link">ì„¸ì¹´ì´ë…¸ ì•¼ë§ˆì§±</a>.</p></div></div>
                    </div></div></div>
                </div>
                 <div class="polaroid-container" style="transform: rotate(-1deg);"><div id="map-day4" class="map-container"></div><p class="polaroid-caption">Day 4: See You Again!</p></div>
            </article>
        </main>
        
        <footer class="text-center mt-8 pt-4 border-t-2 border-dashed border-gray-300">
            <p class="font-handwriting text-2xl" style="color: var(--text-cute);">Our Best Trip Ever! XOXO</p>
        </footer>
    </div>

<script>
const apiKey = 'AIzaSyDqTonh0QOk0kA9WNCBgLyq6gyYpY4TrZU'; 

const locations = {
    day1: [
        { lat: 35.1706, lng: 136.8821, title: 'ğŸ’– ë¯¸ì“°ì´ ê°€ë“  í˜¸í…”', icon: 'ğŸš†' },
        { lat: 35.1691, lng: 136.8798, title: 'ğŸ– ì•¼ë°”í†¤ (ESCA)', icon: 'ğŸš†' },
        { lat: 35.1691, lng: 136.88, title: 'ğŸœ ìš”ì‹œë‹¤ í‚¤ì‹œë©˜', icon: 'ğŸš†' },
        { lat: 35.1709, lng: 136.8835, title: 'ğŸ™ í…ë¬´ìŠ¤ ì„¼ì¥¬', icon: 'ğŸš†' },
        { lat: 35.1725, lng: 136.882, title: 'ğŸ ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ìš”ì½”ì´', icon: 'ğŸš†' },
        { lat: 35.1692, lng: 136.8795, title: 'ğŸœ ì•¼ë§ˆëª¨í† ì•¼ ì†Œí˜¼ì¼€ (ESCA)', icon: 'ğŸš†' }
    ],
    day2: [
        { lat: 35.1687, lng: 136.909, title: 'ğŸ“ íˆì¸ ë§ˆë¶€ì‹œ í•˜ë‚˜ì˜¤ì¹´', icon: 'ğŸ–' },
        { lat: 35.168, lng: 136.907, title: 'ğŸ– ì•¼ë°”í†¤ ë³¸ì ', icon: 'ğŸ–' },
        { lat: 35.1675, lng: 136.910, title: 'ğŸ ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ì†Œë ˆ', icon: 'ğŸ–' },
        { lat: 35.1698, lng: 136.908, title: 'ğŸ° í•˜ë¸ŒìŠ¤ (HARBS) ë³¸ì ', icon: 'ğŸ–' }
    ],
    day3: [
        { lat: 35.159, lng: 136.905, title: 'ğŸ— ë¦¬&ë”˜ (ê°€ë¼ì•„ê²Œ)', icon: 'ğŸ°' },
        { lat: 35.158, lng: 136.904, title: 'ğŸŸ ê¸´ë…¸ì•ˆ (íƒ€ì´ì•¼í‚¤)', icon: 'ğŸ°' },
        { lat: 35.1585, lng: 136.908, title: 'ğŸ¥ Le Supreme (ë¹µì§‘)', icon: 'ğŸ°' },
        { lat: 35.158, lng: 136.902, title: 'â˜•ï¸ KANNON COFFEE', icon: 'ğŸ°' },
        { lat: 35.168, lng: 136.9079, title: 'ğŸ‘‘ ë„ì¿„ë©˜ì¹œí…Œì´ í˜¼í¬ ë‹ˆì‹œí‚¤', icon: 'ğŸ°' },
        { lat: 35.168, lng: 136.909, title: 'ğŸ— í›„ë¼ì´ë³´ ì‚¬ì¹´ì—ì ', icon: 'ğŸ°' },
        { lat: 35.163, lng: 136.906, title: 'ğŸœ ë¯¸ì„¼ ì•¼ë°”ì ', icon: 'ğŸ°' }
    ],
    day4: [
        { lat: 34.8583, lng: 136.8063, title: 'ğŸš ë§ˆë£¨ì•¼ í˜¼í… (ê³µí•­)', icon: 'âœˆï¸' },
        { lat: 34.858, lng: 136.806, title: 'ğŸ— ì„¸ì¹´ì´ë…¸ ì•¼ë§ˆì§± (ê³µí•­)', icon: 'âœˆï¸' }
    ]
};
const colors = { day1: 'F472B6', day2: '60A5FA', day3: '34D399', day4: 'FBBF24' };

let maps = {};
let infoWindows = {};

async function initDayMap(day, mapId) {
    const { Map } = await google.maps.importLibrary("maps");
    const { AdvancedMarkerElement, PinElement } = await google.maps.importLibrary("marker");
    
    const mapContainer = document.getElementById(mapId);
    if (!mapContainer) return;

    const bounds = new google.maps.LatLngBounds();
    const dayLocations = locations[day];
    if (!dayLocations || dayLocations.length === 0) return;

    dayLocations.forEach(loc => bounds.extend(loc));

    const map = new Map(mapContainer, {
        mapId: `DIARY_MAP_${day.toUpperCase()}`,
        disableDefaultUI: true,
        zoomControl: true,
    });
    map.fitBounds(bounds);

    infoWindows[day] = new google.maps.InfoWindow();
    
    dayLocations.forEach(loc => {
        const pin = new PinElement({ glyph: loc.icon, glyphColor: "white", background: `#${colors[day]}`, borderColor: "white" });
        const marker = new AdvancedMarkerElement({ map, position: loc, title: loc.title, content: pin.element });
        marker.addListener('click', () => {
            infoWindows[day].setContent(loc.title);
            infoWindows[day].open(map, marker);
        });
    });
    maps[day] = map;
}

function loadMapScript() {
    if (!apiKey || apiKey === 'YOUR_GOOGLE_MAPS_API_KEY') {
        console.error("Google Maps API Key is missing.");
        return;
    }
    const script = document.createElement('script');
    script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initAllMaps&libraries=maps,marker&v=beta`;
    script.async = true;
    document.head.appendChild(script);
}

function initAllMaps() {
    initDayMap('day1', 'map-day1');
    initDayMap('day2', 'map-day2');
    initDayMap('day3', 'map-day3');
    initDayMap('day4', 'map-day4');
}

document.addEventListener('DOMContentLoaded', () => {
    const envelope = document.getElementById('envelope-wrapper');
    if (envelope) {
        envelope.addEventListener('click', () => {
            envelope.classList.add('opened');
            document.body.classList.add('unlocked');
            document.getElementById('diary-container').classList.remove('hidden');
            loadMapScript();
        }, { once: true });
    }
});
</script>

</body>
</html>
