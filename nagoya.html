<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’– Our Ultimate Nagoya Diary ğŸ’–</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Patrick+Hand&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #FFF9F2;
            --text-main: #4A4A4A;
            --text-cute: #d63384;
            --day1-color: #FBCFE8; --day1-accent: #F472B6;
            --day2-color: #BFDBFE; --day2-accent: #60A5FA;
            --day3-color: #A7F3D0; --day3-accent: #34D399;
            --day4-color: #FDE68A; --day4-accent: #FBBF24;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-color); color: var(--text-main); overflow: hidden; }
        .font-handwriting { font-family: 'Patrick Hand', cursive; }
        .font-korean-cute { font-family: 'Gaegu', cursive; font-weight: 700; }
        
        /* --- Envelope Animation Styles --- */
        #envelope-wrapper { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center; background-color: #fce7f3; z-index: 100; cursor: pointer; transition: opacity 0.5s ease-out; }
        .envelope { position: relative; width: 300px; height: 200px; background-color: #fff; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border-radius: 10px; }
        .envelope-flap { position: absolute; top: 0; left: 0; width: 100%; height: 100px; background-color: var(--day1-accent); clip-path: polygon(0 0, 100% 0, 50% 100%); border-top-left-radius: 10px; border-top-right-radius: 10px; transition: transform 0.5s ease-in-out; transform-origin: top; }
        .envelope-body { position: absolute; top: 100px; left: 0; width: 100%; height: 100px; background-color: #fff; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; }
        .envelope-seal { position: absolute; top: 85px; left: 50%; transform: translateX(-50%); width: 30px; height: 30px; background-color: #fce7f3; border-radius: 50%; color: var(--day1-accent); display: flex; justify-content: center; align-items: center; font-size: 1.2rem; }
        #envelope-wrapper.opened .envelope-flap { transform: rotateX(180deg); }
        #envelope-wrapper.opened { opacity: 0; pointer-events: none; }
        .diary-container { max-w-5xl mx-auto bg-white p-4 sm:p-6 md:p-8 shadow-xl; opacity: 0; transform: translateY(20px); transition: opacity 0.5s ease-in 0.3s, transform 0.5s ease-in 0.3s; }
        body.unlocked { overflow: auto; }
        body.unlocked .diary-container { opacity: 1; transform: translateY(0); }

        /* --- Diary & Map Styles --- */
        .main-headline { font-size: 3rem; sm:font-size: 4rem; md:font-size: 5rem; line-height: 1; text-align: center; color: var(--text-cute); margin-bottom: 0.5rem; }
        .sub-headline { font-size: 1.25rem; color: #a1a1aa; margin-bottom: 2rem; }
        .diary-entry { border-top: 2px dashed #e5e5e5; padding-top: 2rem; margin-top: 2rem; position: relative; }
        .entry-title { font-size: 2.5rem; md:font-size: 3rem; margin-bottom: 1.5rem; }
        .timeline-item { display: flex; gap: 1rem; margin-bottom: 2rem; }
        .timeline-time { flex-shrink: 0; width: 4.5rem; font-size: 1.5rem; text-align: right; }
        .timeline-content { border-left: 3px dotted #d4d4d8; padding-left: 1.5rem; width: 100%; }
        .timeline-title { font-size: 1.5rem; }
        .shopping-detail { background: #fdf2f8; border-left: 4px solid var(--day1-accent); padding: 0.75rem; margin-top: 0.5rem; border-radius: 0.5rem; }
        .map-card { background: #fff; border-radius: 1rem; padding: 1rem; box-shadow: 0 10px 25px rgba(0,0,0,0.1); margin-bottom: 2rem; }
        .map-container { height: 400px; border-radius: 0.75rem; overflow: hidden; margin-top: 1rem; }
        .map-filters { display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; }
        .map-filter-btn { padding: 0.5rem 1rem; border-radius: 99px; cursor: pointer; transition: all 0.2s; border: 2px solid; }
        .meal-options { background-color: #f9fafb; border-radius: 0.75rem; padding: 1rem; margin-top: 1rem; }
        .meal-option { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
        .meal-option div { flex-grow: 1; }
        .meal-option strong { font-size: 1.1rem; }
        .map-pin { cursor: pointer; margin-left: 0.75rem; font-size: 1.5rem; transition: transform 0.2s; flex-shrink: 0; }
        .map-pin:hover { transform: scale(1.2); }
        .sticker { position: absolute; width: 80px; height: 80px; z-index: 10; user-select: none; }
    </style>
</head>
<body>
    
    <div id="envelope-wrapper">
        <div class="envelope">
            <div class="envelope-flap"></div>
            <div class="envelope-body"></div>
            <div class="envelope-seal">ğŸ’–</div>
        </div>
        <p class="font-korean-cute absolute bottom-10 text-xl text-gray-500">Click to Open Our Trip Diary!</p>
    </div>

    <div id="diary-container" class="diary-container hidden">
        <header>
            <h1 class="font-handwriting main-headline">Our Nagoya Diary</h1>
            <p class="font-korean-cute sub-headline">July 3rd - 6th ğŸ’– The Cutest Trip Ever!</p>
        </header>

        <section id="interactive-map-section" class="map-card">
            <h2 class="font-handwriting text-3xl text-center mb-4">âœ¨ Our Adventure Map âœ¨</h2>
            <div id="map-filters" class="map-filters">
                <button onclick="filterMarkers('all')" class="map-filter-btn" style="background-color: #f3f4f6; border-color: #d1d5db; color: #4b5563;">All</button>
                <button onclick="filterMarkers('day1')" class="map-filter-btn" style="background-color: var(--day1-color); border-color: var(--day1-accent); color: var(--day1-accent);">Day 1 ğŸš†</button>
                <button onclick="filterMarkers('day2')" class="map-filter-btn" style="background-color: var(--day2-color); border-color: var(--day2-accent); color: var(--day2-accent);">Day 2 ğŸ–</button>
                <button onclick="filterMarkers('day3')" class="map-filter-btn" style="background-color: var(--day3-color); border-color: var(--day3-accent); color: var(--day3-accent);">Day 3 ğŸ°</button>
                <button onclick="filterMarkers('day4')" class="map-filter-btn" style="background-color: var(--day4-color); border-color: var(--day4-accent); color: var(--day4-accent);">Day 4 âœˆï¸</button>
            </div>
            <div id="map" class="map-container"></div>
        </section>

        <main>
            <!-- Day 1 -->
            <article class="diary-entry">
                <h2 class="entry-title" style="color: var(--day1-accent);">Day 1 (Thu): Hello, Nagoya! ğŸ’–</h2>
                <div class="timeline">
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day1-accent);">2 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">âœˆï¸ í˜¸í…” ì§í–‰</h3><p>ì£¼ë¶€ ê³µí•­ â†’ 'ë®¤ìŠ¤ì¹´ì´' íŠ¹ê¸‰(28ë¶„) â†’ ë‚˜ê³ ì•¼ì—­ ë„ì°©! 'ë¯¸ì“°ì´ ê°€ë“  í˜¸í…”'ì— ì²´í¬ì¸!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day1-accent);">3 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ›ï¸ ë‚˜ê³ ì•¼ì—­ ì‡¼í•‘ ìƒì„¸ ê°€ì´ë“œ</h3>
                        <div class="shopping-detail"><p><strong>JR ë‹¤ì¹´ì‹œë§ˆì•¼:</strong> ëª…í’ˆ, í™”ì¥í’ˆ, ì˜ë¥˜ê°€ ëª¨ì¸ ì •í†µ ë°±í™”ì . ì§€í•˜ ì‹í’ˆê´€ 'ë°íŒŒì¹˜ì¹´'ëŠ” ê³ ê¸‰ ê³¼ìì™€ ì„ ë¬¼ ì‚¬ê¸°ì— ìµœê³ !</p></div>
                        <div class="shopping-detail"><p><strong>ë„í í•¸ì¦ˆ:</strong> ì°½ì˜ë ¥ì˜ ì²œêµ­! ì•„ê¸°ìê¸°í•œ ë¬¸êµ¬ë¥˜, ìµœì‹  ë·°í‹°í…œ, ë…íŠ¹í•œ ìƒí™œ ì¡í™”ê¹Œì§€ ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¥´ëŠ” ê³³.</p></div>
                    </div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day1-accent);">6:30 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸœ ì €ë… ì‹ì‚¬ @ë‚˜ê³ ì•¼ì—­</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">ë¯¸ì†Œì¹´ì¸ </strong><p><strong>ì•¼ë°”í†¤</strong> (ESCA). ë‚˜ê³ ì•¼ ë©”ì‹œì˜ ëŒ€í‘œì£¼ì!</p></div><span class="map-pin" onclick="goToPlace(35.1691, 136.8798, 'ì•¼ë°”í†¤ (ESCA)')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">í‚¤ì‹œë©˜</strong><p><strong>ìš”ì‹œë‹¤ í‚¤ì‹œë©˜</strong> (ESCA). ë„“ì í•˜ê³  ë¶€ë“œëŸ¬ìš´ ë©´ë°œ!</p></div><span class="map-pin" onclick="goToPlace(35.1691, 136.88, 'ìš”ì‹œë‹¤ í‚¤ì‹œë©˜ (ESCA)')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">í…ë¬´ìŠ¤</strong><p><strong>ì„¼ì¥¬</strong> (ë‹¤ì¹´ì‹œë§ˆì•¼ B1). ìƒˆìš°íŠ€ê¹€ ì£¼ë¨¹ë°¥, ê°„ì‹ìœ¼ë¡œë„ ìµœê³ !</p></div><span class="map-pin" onclick="goToPlace(35.1709, 136.8835, 'í…ë¬´ìŠ¤ ì„¼ì¥¬ (ë‹¤ì¹´ì‹œë§ˆì•¼)')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">ì•ˆì¹´ì¼€ ìŠ¤íŒŒê²Œí‹°</strong><p><strong>ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ìš”ì½”ì´</strong> (JPíƒ€ì›Œ). ê±¸ì­‰í•œ ì†ŒìŠ¤ê°€ íŠ¹ì§•!</p></div><span class="map-pin" onclick="goToPlace(35.1725, 136.882, 'ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ìš”ì½”ì´')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day1-accent);">ë¯¸ì†Œë‹ˆì½”ë¯¸ ìš°ë™</strong><p><strong>ì•¼ë§ˆëª¨í† ì•¼ ì†Œí˜¼ì¼€</strong> (ESCA). ì§„í•œ ëœì¥ êµ­ë¬¼ ìš°ë™!</p></div><span class="map-pin" onclick="goToPlace(35.1692, 136.8795, 'ì•¼ë§ˆëª¨í† ì•¼ ì†Œí˜¼ì¼€ (ESCA)')">ğŸ“</span></div>
                    </div></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day1-accent);">8 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸŒƒ ì•¼ê²½ & í¸ì˜ì  íƒë°©</h3><p>JR ì„¼íŠ¸ëŸ´ íƒ€ì›Œ 15ì¸µ 'ìŠ¤ì¹´ì´ ìŠ¤íŠ¸ë¦¬íŠ¸' ì•¼ê²½ ê°ìƒ í›„, í¸ì˜ì ì—ì„œ ì‹ ê¸°í•œ ê°„ì‹ ë“í…œ!</p></div></div>
                </div>
            </article>

            <!-- Day 2 -->
             <article class="diary-entry">
                <h2 class="entry-title" style="color: var(--day2-accent);">Day 2 (Fri): Sakae Food & Fun! ğŸ‘‘</h2>
                <div class="timeline">
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">11 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ“ ì›¨ì´íŒ… ì‘ì „!</h3><p>ë‚˜ê³ ì•¼ì—­ â†’ ì‚¬ì¹´ì—ì—­ (ì§€í•˜ì²  5ë¶„). <strong>íˆì¸ ë§ˆë¶€ì‹œ í•˜ë‚˜ì˜¤ì¹´</strong>ì— ê°€ì„œ ì›¨ì´íŒ… ë¦¬ìŠ¤íŠ¸ë¶€í„° ì ê¸°!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">11:30 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ›ï¸ ì‚¬ì¹´ì— ì‡¼í•‘ ìƒì„¸ ê°€ì´ë“œ</h3>
                         <div class="shopping-detail"><p><strong>ì‚¬ì¹´ì— ì§€í•˜ìƒê°€:</strong> ëª¨ë“  ì‡¼í•‘ëª°ë¡œ ì´ì–´ì§€ëŠ” ê°œë¯¸ì§€ì˜¥! ì•„ê¸°ìê¸°í•œ ì˜·ê°€ê²Œì™€ ì¡í™”ì ì´ ë§ìŒ.</p></div>
                         <div class="shopping-detail"><p><strong>ë§ˆì¸ ìì¹´ì•¼ & ë¯¸ì¸ ì½”ì‹œ:</strong> ì •í†µ ê³ ê¸‰ ë°±í™”ì . íŠ¹íˆ ë§ˆì¸ ìì¹´ì•¼ ë³¸ê´€ 5ì¸µ 'í¬ì¼“ëª¬ ì„¼í„°'ëŠ” í•„ìˆ˜ ì½”ìŠ¤!</p></div>
                         <div class="shopping-detail"><p><strong>íŒŒë¥´ì½” (PARCO):</strong> ì Šê³  íŠ¸ë Œë””í•œ íŒ¨ì…˜ ë¸Œëœë“œ, ìºë¦­í„° êµ¿ì¦ˆ, ìŒë°˜ ë§¤ì¥ê¹Œì§€! ì„œë¸Œì»¬ì³ì˜ ì„±ì§€.</p></div>
                         <div class="shopping-detail"><p><strong>ë¡œí”„íŠ¸ (LOFT):</strong> ë””ìì¸ ë¬¸êµ¬, í™”ì¥í’ˆ, ì¸í…Œë¦¬ì–´ ì†Œí’ˆì´ ê°€ë“. ë„íí•¸ì¦ˆì™€ëŠ” ë˜ ë‹¤ë¥¸ ë§¤ë ¥!</p></div>
                    </div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">1 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ– ì ì‹¬ ì‹ì‚¬ @ì‚¬ì¹´ì—</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">ë¯¸ì†Œì¹´ì¸ </strong><p><strong>ì•¼ë°”í†¤ ë³¸ì </strong>. Vlog ì„±ì§€! ì¹˜ì¦ˆ&íŒŒ ì¶”ê°€ í•„ìˆ˜!</p></div><span class="map-pin" onclick="goToPlace(35.168, 136.907, 'ì•¼ë°”í†¤ ë³¸ì ')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">ì•ˆì¹´ì¼€ ìŠ¤íŒŒê²Œí‹°</strong><p><strong>ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ì†Œë ˆ</strong>. í˜„ì§€ì¸ ì¶”ì²œ ë§›ì§‘!</p></div><span class="map-pin" onclick="goToPlace(35.1675, 136.910, 'ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ì†Œë ˆ')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">ë¯¸ì†Œë‹ˆì½”ë¯¸ ìš°ë™</strong><p><strong>ì•¼ë§ˆëª¨í† ì•¼ í˜¼í…</strong>. ëœì¥ìš°ë™ì˜ ë˜ ë‹¤ë¥¸ ëª…ê°€!</p></div><span class="map-pin" onclick="goToPlace(35.169, 136.906, 'ì•¼ë§ˆëª¨í† ì•¼ í˜¼í…')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">ì¹´í˜/ë¸ŒëŸ°ì¹˜</strong><p><strong>ì½”ë©”ë‹¤ ì»¤í”¼</strong>. ëª…ë¬¼ ì˜¤êµ¬ë¼ í† ìŠ¤íŠ¸ ì¦ê¸°ê¸°!</p></div><span class="map-pin" onclick="goToPlace(35.171, 136.912, 'ì½”ë©”ë‹¤ ì»¤í”¼ ì‚¬ì¹´ì—ì ')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">ì¹´ë ˆ ìš°ë™</strong><p><strong>ì™€ì¹´ì‚¬ì¹˜ì•¼</strong>. í¬ë¦¬ë¯¸í•œ ì¹´ë ˆ ìš°ë™ ë§›ì§‘!</p></div><span class="map-pin" onclick="goToPlace(35.1685, 136.910, 'ì™€ì¹´ì‚¬ì¹˜ì•¼')">ğŸ“</span></div>
                    </div></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">3 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ° ë””ì €íŠ¸ & ì¬ì¶©ì „ íƒ€ì„!</h3><p>ë°±í™”ì  'ë°íŒŒì¹˜ì¹´' êµ¬ê²½ í›„, ì¼€ì´í¬ ë§›ì§‘ì—ì„œ íœ´ì‹.</p><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">í¬ë ˆì´í”„ ì¼€ì´í¬</strong><p><strong>í•˜ë¸ŒìŠ¤ (HARBS) ë³¸ì </strong>. ë§ì´ í•„ìš” ì—†ëŠ” ê³³!</p></div><span class="map-pin" onclick="goToPlace(35.1698, 136.908, 'í•˜ë¸ŒìŠ¤ (HARBS) ë³¸ì ')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day2-accent);">3D ë¼ë–¼ì•„íŠ¸</strong><p><strong>LIGHT CAFE</strong>. ê·€ì—¬ìš´ ë¼ë–¼ì•„íŠ¸ë¡œ ìœ ëª…!</p></div><span class="map-pin" onclick="goToPlace(35.1695, 136.9075, 'LIGHT CAFE ì‚¬ì¹´ì—ì ')">ğŸ“</span></div>
                    </div></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">6 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸš ì €ë…: ê°ë™ì˜ íˆì¸ ë§ˆë¶€ì‹œ</h3><p>ë“œë””ì–´ ìš°ë¦¬ ì°¨ë¡€! 'í•˜ë‚˜ì˜¤ì¹´'ì—ì„œ ì¸ìƒ ì¥ì–´ë®ë°¥ ë¨¹ê¸°. ğŸ˜­</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day2-accent);">8:30 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸŒ™ ì˜¤ì•„ì‹œìŠ¤21 & ëˆí‚¤í˜¸í…Œ</h3><p>'ë¬¼ì˜ ìš°ì£¼ì„ 'ì—ì„œ ì¸ìƒìƒ· ì°ê³ , 'ëˆí‚¤í˜¸í…Œ'ì—ì„œ ë©´ì„¸ ì‡¼í•‘ìœ¼ë¡œ í•˜ë£¨ ë§ˆë¬´ë¦¬! ğŸ’¸</p></div></div>
                </div>
            </article>

            <!-- Day 3 -->
            <article class="diary-entry">
                 <h2 class="entry-title" style="color: var(--day3-accent);">Day 3 (Sat): Osu's Cutest Finds! ğŸŒ¸</h2>
                 <div class="timeline">
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day3-accent);">11 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸš‡ ì˜¤ìŠ¤ ìƒì ê°€ë¡œ!</h3><p>ë‚˜ê³ ì•¼ì—­ â†’ í›„ì‹œë¯¸ì—­(í™˜ìŠ¹) â†’ ì˜¤ìŠ¤ì¹¸ë…¼ì—­ (ì´ 15ë¶„). 'ë„ë‹ˆì¹˜ì—ì½”í‚·í‘¸(620ì—”)' ê°•ì¶”!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day3-accent);">11:30 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ’ ì˜¤ìŠ¤ ìƒì ê°€ ë³´ë¬¼ì°¾ê¸° & ê¸¸ê±°ë¦¬ ìŒì‹</h3><p>'ìˆ˜ìš”ì¼ì˜ ì•¨ë¦¬ìŠ¤' ê°™ì€ ì†Œí’ˆìƒµê³¼ í•¨ê»˜ ë‹¤ì–‘í•œ ê¸¸ê±°ë¦¬ ìŒì‹ ë§›ë³´ê¸°!</p><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ê°€ë¼ì•„ê²Œ</strong><p><strong>ë¦¬&ë”˜</strong>. ê¸ˆìƒ ìˆ˜ìƒì— ë¹›ë‚˜ëŠ” ë‹­íŠ€ê¹€!</p></div><span class="map-pin" onclick="goToPlace(35.159, 136.905, 'ë¦¬&ë”˜')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">íƒ€ì´ì•¼í‚¤</strong><p><strong>ê¸´ë…¸ì•ˆ</strong>. íŒ¥, ì»¤ìŠ¤í„°ë“œ ë¶•ì–´ë¹µ!</p></div><span class="map-pin" onclick="goToPlace(35.158, 136.904, 'ê¸´ë…¸ì•ˆ')">ğŸ“</span></div>
                    </div></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day3-accent);">2 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ¥ ë¹µì§‘ & ì¹´í˜ íˆ¬ì–´ @ì˜¤ìŠ¤</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ìµœê³  ë¹µì§‘</strong><p><strong>Le Supreme</strong>. ë¹µ ì‚¬ì„œ ê·¼ì²˜ ì¹´í˜ì—ì„œ ì¦ê¸°ê¸°!</p></div><span class="map-pin" onclick="goToPlace(35.1585, 136.908, 'Le Supreme')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ê°ì„± ì¹´í˜</strong><p><strong>KANNON COFFEE</strong>. ê·€ì—¬ìš´ ì¿ í‚¤ ì»¤í”¼!</p></div><span class="map-pin" onclick="goToPlace(35.158, 136.902, 'KANNON COFFEE')">ğŸ“</span></div>
                    </div></div></div>
                     <div class="timeline-item"><div class="timeline-time" style="color: var(--day3-accent);">7 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ» ì €ë…: ë‚˜ê³ ì•¼ì˜ ë°¤ @ì‚¬ì¹´ì—</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ğŸ‘‘ MUST GO!</strong><p><strong>ë„ì¿„ë©˜ì¹œí…Œì´ í˜¼í¬</strong>. ê¼­ ê°€ê³  ì‹¶ì—ˆë˜ ì•„ë¶€ë¼ì†Œë°” ë§›ì§‘!</p></div><span class="map-pin" onclick="goToPlace(35.168, 136.9079, 'ë„ì¿„ë©˜ì¹œí…Œì´ í˜¼í¬ ë‹ˆì‹œí‚¤')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">í…Œë°”ì‚¬í‚¤</strong><p><strong>í›„ë¼ì´ë³´</strong> ë˜ëŠ” <strong>ì„¸ì¹´ì´ë…¸ ì•¼ë§ˆì§±</strong>. ë‘ ì›ì¡° ë§› ë¹„êµ!</p></div><span class="map-pin" onclick="goToPlace(35.168, 136.909, 'í›„ë¼ì´ë³´ ì‚¬ì¹´ì—ì ')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ëŒ€ë§Œ ë¼ë©˜</strong><p><strong>ë¯¸ì„¼ ì•¼ë°”ì </strong>. ë‚˜ê³ ì•¼ ë°œìƒ ë§¤ìš´ ë¼ë©˜!</p></div><span class="map-pin" onclick="goToPlace(35.163, 136.906, 'ë¯¸ì„¼ ì•¼ë°”ì ')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ë„í…Œë‹ˆ</strong><p><strong>ì‹œë§ˆì‡¼</strong>. ëœì¥ ì†ŒìŠ¤ì— í‘¹ ë“ì¸ ì†Œ í˜ì¤„ ìš”ë¦¬!</p></div><span class="map-pin" onclick="goToPlace(35.167, 136.908, 'ì‹œë§ˆì‡¼')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day3-accent);">ì´ìì¹´ì•¼</strong><p><strong>ì´ìì¹´ì•¼ ëª¨ëª¨</strong>. Vlog ì† 'ë¯¸ì†Œ ë²„í„° ì½˜ ë¼ë©˜'!</p></div><span class="map-pin" onclick="goToPlace(35.1678, 136.9095, 'ì´ìì¹´ì•¼ ëª¨ëª¨')">ğŸ“</span></div>
                    </div></div></div>
                </div>
            </article>

            <!-- Day 4 -->
            <article class="diary-entry">
                <h2 class="entry-title" style="color: var(--day4-accent);">Day 4 (Sun): Last Haul & Fly Home! ğŸ‘‹</h2>
                <div class="timeline">
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day4-accent);">11 AM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ ë§ˆì§€ë§‰ ì‡¼í•‘ @ë‚˜ê³ ì•¼ì—­</h3><p>í˜¸í…” ì²´í¬ì•„ì›ƒ í›„ ì§ ë§¡ê¸°ê¸°! 'ë©”ì´í…Œì¸  ë°±í™”ì ' ë‹¤ì´ì†Œ & 'ë‹¤ì¹´ì‹œë§ˆì•¼ ë°±í™”ì ' ì§€í•˜ì—ì„œ ìµœì¢… ì‡¼í•‘!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day4-accent);">1 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">âœˆï¸ ê³µí•­ìœ¼ë¡œ</h3><p>í˜¸í…”ì—ì„œ ì§ ì°¾ì•„ì„œ ë°”ë¡œ 'ë®¤ìŠ¤ì¹´ì´' íƒ€ê³  ì£¼ë¶€ êµ­ì œê³µí•­ìœ¼ë¡œ!</p></div></div>
                    <div class="timeline-item"><div class="timeline-time" style="color: var(--day4-accent);">2 PM</div><div class="timeline-content"><h3 class="font-korean-cute timeline-title">ğŸ— ê³µí•­ì—ì„œ ìµœì¢… ì‹ì‚¬</h3><div class="meal-options">
                        <div class="meal-option"><div><strong style="color: var(--day4-accent);">íˆì¸ ë§ˆë¶€ì‹œ</strong><p><strong>ë§ˆë£¨ì•¼ í˜¼í…</strong>. ê³µí•­ì—ì„œ ì¦ê¸°ëŠ” ë§ˆì§€ë§‰ ì¥ì–´ë®ë°¥!</p></div><span class="map-pin" onclick="goToPlace(34.8583, 136.8063, 'ë§ˆë£¨ì•¼ í˜¼í… (ê³µí•­)')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day4-accent);">í…Œë°”ì‚¬í‚¤</strong><p><strong>ì„¸ì¹´ì´ë…¸ ì•¼ë§ˆì§±</strong>. ì§­ì§¤í•œ í›„ì¶”ë§›!</p></div><span class="map-pin" onclick="goToPlace(34.858, 136.806, 'ì„¸ì¹´ì´ë…¸ ì•¼ë§ˆì§± (ê³µí•­)')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day4-accent);">ë¯¸ì†Œì¹´ì¸ </strong><p><strong>ì•¼ë°”í†¤</strong>. ë§ˆì§€ë§‰ ë¯¸ì†Œì¹´ì¸ !</p></div><span class="map-pin" onclick="goToPlace(34.8582, 136.8062, 'ì•¼ë°”í†¤ (ê³µí•­)')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day4-accent);">ì—ë¹„ì„¼ë² </strong><p><strong>ì—ë¹„ì„¼ë² ë…¸ ì‚¬í† </strong>. ìƒˆìš°ê³¼ì ì„ ë¬¼ì‚¬ê¸° ìµœê³ !</p></div><span class="map-pin" onclick="goToPlace(34.857, 136.805, 'ì—ë¹„ì„¼ë² ë…¸ ì‚¬í†  (ê³µí•­)')">ğŸ“</span></div>
                        <div class="meal-option"><div><strong style="color: var(--day4-accent);">í‚¤ì‹œë©˜</strong><p><strong>ë¯¸ì•¼ í‚¤ì‹œë©˜</strong>. ë§ˆì§€ë§‰ ë‚˜ê³ ì•¼ ìš°ë™!</p></div><span class="map-pin" onclick="goToPlace(34.8575, 136.8055, 'ë¯¸ì•¼ í‚¤ì‹œë©˜ (ê³µí•­)')">ğŸ“</span></div>
                    </div></div></div>
                </div>
            </article>
        </main>
        
        <footer class="text-center mt-8 pt-4 border-t-2 border-dashed border-gray-300">
            <p class="font-handwriting text-2xl" style="color: var(--text-cute);">Our Best Trip Ever! XOXO</p>
        </footer>
    </div>

<script>
// --- Envelope Animation ---
document.addEventListener('DOMContentLoaded', () => {
    const envelope = document.getElementById('envelope-wrapper');
    if (envelope) {
        envelope.addEventListener('click', () => {
            envelope.classList.add('opened');
            document.body.classList.add('unlocked');
            document.getElementById('diary-container').classList.remove('hidden');
        });
    }
    loadMapScript();
});


// --- Map Data & Functions ---
const apiKey = 'AIzaSyDqTonh0QOk0kA9WNCBgLyq6gyYpY4TrZU'; 
let map;
let allMarkers = [];
let infoWindow;

const locations = {
    day1: [
        { lat: 35.1706, lng: 136.8821, title: 'ğŸ’– ë¯¸ì“°ì´ ê°€ë“  í˜¸í…”', icon: 'ğŸš†' },
        { lat: 35.1691, lng: 136.8798, title: 'ğŸ– ì•¼ë°”í†¤ (ESCA)', icon: 'ğŸš†' },
        { lat: 35.1691, lng: 136.88, title: 'ï¿½ ìš”ì‹œë‹¤ í‚¤ì‹œë©˜', icon: 'ğŸš†' },
        { lat: 35.1709, lng: 136.8835, title: 'ğŸ™ í…ë¬´ìŠ¤ ì„¼ì¥¬', icon: 'ğŸš†' },
        { lat: 35.1725, lng: 136.882, title: 'ğŸ ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ìš”ì½”ì´', icon: 'ğŸš†' },
        { lat: 35.1692, lng: 136.8795, title: 'ğŸœ ì•¼ë§ˆëª¨í† ì•¼ ì†Œí˜¼ì¼€ (ESCA)', icon: 'ğŸš†' }
    ],
    day2: [
        { lat: 35.1687, lng: 136.909, title: 'ğŸ“ íˆì¸ ë§ˆë¶€ì‹œ í•˜ë‚˜ì˜¤ì¹´', icon: 'ğŸ–' },
        { lat: 35.168, lng: 136.907, title: 'ğŸ– ì•¼ë°”í†¤ ë³¸ì ', icon: 'ğŸ–' },
        { lat: 35.1675, lng: 136.910, title: 'ğŸ ìŠ¤íŒŒê²Œí‹° í•˜ìš°ìŠ¤ ì†Œë ˆ', icon: 'ğŸ–' },
        { lat: 35.169, lng: 136.906, title: 'ğŸœ ì•¼ë§ˆëª¨í† ì•¼ í˜¼í…', icon: 'ğŸ–' },
        { lat: 35.171, lng: 136.912, title: 'â˜•ï¸ ì½”ë©”ë‹¤ ì»¤í”¼', icon: 'ğŸ–' },
        { lat: 35.1685, lng: 136.910, title: 'ğŸ› ì™€ì¹´ì‚¬ì¹˜ì•¼', icon: 'ğŸ–' },
        { lat: 35.1698, lng: 136.908, title: 'ğŸ° í•˜ë¸ŒìŠ¤ (HARBS) ë³¸ì ', icon: 'ğŸ–' },
        { lat: 35.1695, lng: 136.9075, title: 'â˜•ï¸ LIGHT CAFE', icon: 'ğŸ–' }
    ],
    day3: [
        { lat: 35.159, lng: 136.905, title: 'ğŸ— ë¦¬&ë”˜ (ê°€ë¼ì•„ê²Œ)', icon: 'ğŸ°' },
        { lat: 35.158, lng: 136.904, title: 'ğŸŸ ê¸´ë…¸ì•ˆ (íƒ€ì´ì•¼í‚¤)', icon: 'ğŸ°' },
        { lat: 35.1585, lng: 136.908, title: 'ğŸ¥ Le Supreme (ë¹µì§‘)', icon: 'ğŸ°' },
        { lat: 35.158, lng: 136.902, title: 'â˜•ï¸ KANNON COFFEE', icon: 'ğŸ°' },
        { lat: 35.168, lng: 136.9079, title: 'ğŸ‘‘ ë„ì¿„ë©˜ì¹œí…Œì´ í˜¼í¬ ë‹ˆì‹œí‚¤', icon: 'ğŸ°' },
        { lat: 35.168, lng: 136.909, title: 'ğŸ— í›„ë¼ì´ë³´ ì‚¬ì¹´ì—ì ', icon: 'ğŸ°' },
        { lat: 35.163, lng: 136.906, title: 'ğŸœ ë¯¸ì„¼ ì•¼ë°”ì ', icon: 'ğŸ°' },
        { lat: 35.167, lng: 136.908, title: 'ğŸ¢ ì‹œë§ˆì‡¼ (ë„í…Œë‹ˆ)', icon: 'ğŸ°' },
        { lat: 35.1678, lng: 136.9095, title: 'ğŸ» ì´ìì¹´ì•¼ ëª¨ëª¨', icon: 'ğŸ°' }
    ],
    day4: [
        { lat: 34.8583, lng: 136.8063, title: 'ğŸš ë§ˆë£¨ì•¼ í˜¼í… (ê³µí•­)', icon: 'âœˆï¸' },
        { lat: 34.858, lng: 136.806, title: 'ğŸ— ì„¸ì¹´ì´ë…¸ ì•¼ë§ˆì§± (ê³µí•­)', icon: 'âœˆï¸' },
        { lat: 34.8582, lng: 136.8062, title: 'ğŸ– ì•¼ë°”í†¤ (ê³µí•­)', icon: 'âœˆï¸' },
        { lat: 34.857, lng: 136.805, title: 'ğŸ¦ ì—ë¹„ì„¼ë² ë…¸ ì‚¬í† ', icon: 'âœˆï¸' },
        { lat: 34.8575, lng: 136.8055, title: 'ğŸœ ë¯¸ì•¼ í‚¤ì‹œë©˜ (ê³µí•­)', icon: 'âœˆï¸' }
    ]
};
const colors = { day1: 'F472B6', day2: '60A5FA', day3: '34D399', day4: 'FBBF24' };

async function initMap() {
    const { Map } = await google.maps.importLibrary("maps");
    const { AdvancedMarkerElement, PinElement } = await google.maps.importLibrary("marker");
    
    map = new Map(document.getElementById("map"), { zoom: 13, center: { lat: 35.17, lng: 136.9 }, mapId: 'DEMO_MAP_ID' });
    infoWindow = new google.maps.InfoWindow();

    for (const day in locations) {
        locations[day].forEach(loc => {
            const pin = new PinElement({ glyph: loc.icon, glyphColor: "white", background: `#${colors[day]}`, borderColor: "white" });
            const marker = new AdvancedMarkerElement({ map, position: loc, title: loc.title, content: pin.element, gmpDraggable: false });
            marker.day = day;
            marker.addListener('click', () => {
                infoWindow.setContent(loc.title);
                infoWindow.open(map, marker);
            });
            allMarkers.push(marker);
        });
    }
}

function filterMarkers(day) {
    if (!map) return;
    allMarkers.forEach(marker => { marker.map = (day === 'all' || marker.day === day) ? map : null; });
}

function goToPlace(lat, lng, title) {
    if (!map) return;
    const pos = { lat, lng };
    map.panTo(pos);
    map.setZoom(17);
    
    let targetMarker = null;
    allMarkers.forEach(marker => {
       if (marker.position.lat === lat && marker.position.lng === lng) {
           targetMarker = marker;
       }
    });

    if (targetMarker) {
        infoWindow.setContent(title);
        infoWindow.open(map, targetMarker);
    } else {
        infoWindow.setPosition(pos);
        infoWindow.setContent(title);
        infoWindow.open({ map, anchor: null });
    }
}

function loadMapScript() {
    if (!apiKey || apiKey === 'YOUR_GOOGLE_MAPS_API_KEY') {
        document.getElementById('map').innerHTML = `<div id="map-placeholder"><p class="font-korean-cute" style="font-size: 1.5rem; color: #d63384;">ğŸ—ºï¸ ì§€ë„ ë¡œë”© ì‹¤íŒ¨! ğŸ—ºï¸</p><p class="font-korean-cute" style="margin-top: 1rem;">API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p></div>`;
        return;
    }
    const script = document.createElement('script');
    script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initMap&libraries=maps,marker&v=beta`;
    script.async = true;
    document.head.appendChild(script);
}

</script>

</body>
</html>
